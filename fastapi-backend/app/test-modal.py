import modal

summarize = modal.Function.from_name("newsly-modal-test", "summarize")
political_bias = modal.Function.from_name("newsly-modal-test", "political_bias")

if __name__ == "__main__":
    # Example usage
    text = "Editor’s Note: If you are in the US and you or a loved one have contemplated suicide, call the National Suicide and Crisis Lifeline at 988 or 1-800-273-TALK (8255) to connect with a trained counselor. Outside the US, a worldwide directory of resources and international hotlines is provided by the International Association for Suicide Prevention, and you can turn to Befrienders Worldwide.\n\nAlmost exactly one year ago, 14-year-old Adriana Kuch was attacked by a group of teens in a hallway of Central Regional High School in Berkeley Township, New Jersey. No one expected it to be the last week of her life.\n\nAdriana had been bullied leading up to the assault on February 1, 2023, her family said. The gruesome attack was captured on video and promptly uploaded to social media, where Adriana became the target of more vitriol and cyberbullying.\n\nLess than two days later, Adriana killed herself in her home as “a result of the emotional distress, humiliation, and embarrassment she experienced,” according to a lawsuit filed by her family this week against the Central Regional Board of Education, the school district’s former superintendent and others.\n\n“Adriana was the light of our lives, and one year after her horrific and needless death, we are still waiting for justice,” her father Michael Kuch said in a statement provided by the family’s attorney.\n\n“It’s clear this school has a serious bullying problem that none of the school administrators care to admit or address.”\n\nThe defendants in the lawsuit include the Central Regional Board of Education; Triantafillos Parlapanides, who was the school district’s superintendent at the time of the assault; Irene Marousis, who was the Central Regional High School principal at the time; and Darryl Heale, who was the school’s assistant principal and “Anti-bullying specialist” at the time, according to the lawsuit.\n\nCNN has reached out to each of those defendants for comment.\n\nFour juveniles faced criminal charges in connection with the attack. One was charged with aggravated assault, two faced charges of conspiracy to commit aggravated assault, and the fourth was charged with harassment. CNN has asked the Ocean County prosecutor’s office Tuesday for an update on those criminal cases.\n\nWhat the video shows\n\nThe video, obtained and reviewed by CNN, shows Adriana being hit in the face with a water bottle several times in a hallway. It also shows Adriana getting punched and kicked. The high school freshman suffered bruising and briefly blacked out, her father later said.\n\nThe footage was posted that same day on social media platforms, including TikTok. A slew of hateful comments and online bullying followed, culminating in Adriana ending her own life, her father said.\n\n“Adriana didn’t take her life because of TikTok,” family attorney Bill Krais said. “She was physically attacked, she was attacked online, and the school failed to protect her.”\n\nWhat the lawsuit claims\n\nThe civil lawsuit, filed Monday, accused the defendants of negligence, defamation and infliction of emotional distress. The lawsuit also alleges the then-superintendent invaded the family’s privacy by making false statements about their family history, including allegations of infidelity and drug use.\n\nThe school board “had a duty to supervise, monitor, and train staff regarding harassment, intimidation, and bullying, and was responsible for developing, implementing, and disseminating anti-harassment, intimidation, and bullying policies and programs consistent with the New Jersey Anti-Bullying Statute,” the civil complaint says.\n\nIt also said the defendants “knew or should have known that the physical assaults and attacks within their schools, specifically within Central Regional High School, were being recorded and posted to various social media sites by other students, contrary to School Board policy.”\n\nAnd even though school board policy allowed the defendants to “review and take possession of students’ cell phones used to record and post such physical assaults and attacks, thus minimizing the risk that such recordings would be widely distributed to social media sites,” they “failed to follow that policy,” the lawsuit states.\n\nThe lawsuit also alleges the superintendent at the time did not pursue criminal charges against the attackers.\n\n“Based on information and belief, the decision not to pursue criminal charges against the students who perpetrated this attack was done, according to defendant Parlapanides, to avoid saddling the students who committed the attack with a ‘double whammy,’ i.e., potential discipline by both school authorities and law enforcement,” the lawsuit says.\n\nParlapanides resigned as superintendent in the wake of Adriana’s death, as parents and students demanded the school improve its handling of bullying.\n\nThe lawsuit requests compensatory and punitive damages but does not specify the amounts.\n\n“Under New Jersey law, a party is not permitted to request a specific amount of damages in the complaint,” said Krais, the attorney representing the Kuch family. “That said, we are seeking punitive damages sufficient to punish the egregious conduct here by the superintendent and other school officials as the facts may develop.”\n\nWhy another family has sued\n\nMore than a year before Adriana’s death, another 14-year-old at the same high school was assaulted even after she had reported threats being made against her to the school, a separate lawsuit filed in October 2022 alleges.\n\nAlthough the teen isn’t fully named in the lawsuit, her mother confirmed that her daughter Olivia O’Dea is the lead plaintiff in the case.\n\nIn January 2022, Olivia was physically assaulted by two teenagers – one of whom had allegedly sent Olivia threatening text messages, the lawsuit claims. The assault was allegedly filmed by one of the teenagers who had been threatening Olivia and who later posted it on a social media platform, the lawsuit states.\n\nOlivia’s mother, Racheal O’Dea, told CNN that her daughter was hit in the back of the head, neck, and back approximately 30 times and suffered a significant concussion. She underwent counseling for PTSD and six months of physical therapy, her mother said.\n\nThe defendants in O’Dea’s lawsuit include the Central Regional School District and the high school’s principal and vice principal at the time. Last year, a lawyer representing the Central Regional School District, Central Regional Board of Education, the principal and vice principal filed an answer to the lawsuit denying the accusations. CNN has also reached out to defendants for comment.\n\nThe O’Dea family’s civil case is currently in the discovery phase, attorney Jonathan Ettman told CNN on Tuesday. He said the former superintendent, Parlapanides, has also been added to the list of defendants.\n\nO’Dea offered her condolences to Adriana’s family, saying the tragedy they’ve endured should have never happened.\n\n“It’s devastating those parents are living every parent’s worst nightmare,” O’Dea said. “This could’ve been prevented."

    bias = political_bias.remote(text)
    print("Bias:", bias)

    summary = summarize.remote(text)
    print("Summary:", summary)
